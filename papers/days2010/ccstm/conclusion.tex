
STM's high level programming model addresses many of the challenges of
shared memory multithreading, but to be most useful its benefits should
be provided in a pay-as-you-go fashion.  CCSTM accomplishes this by
providing transactional memory as a normal Scala library.

CCSTM uses Scala's features to embed STM as a DSL, rather than using
bytecode rewriting or VM modifications to transparently redirect loads and
stores.  Its syntax is concise, and its performance is on par
with bytecode rewriting STMs.  The references that encapsulate
transactionally-managed memory locations add some clutter to the user's
code, but they also provide a natural way for the programmer to take
advantage of more sophisticated features such as semantic conflict
detection.  The implementation is careful to avoid busy-waiting or
polling when a transaction is blocked, delivering good performance
despite contention and high multithreading levels.  CCSTM demonstrates
that a library-based STM can be usable and performant.

